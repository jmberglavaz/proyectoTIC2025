<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PizzUM & BurgUM — Checkout</title>

  <!-- Hojas de estilo globales -->
  <link rel="stylesheet" href="../css/main.css">
  <link rel="stylesheet" href="../css/layout.css">
  <link rel="stylesheet" href="../css/components.css">
  <link rel="stylesheet" href="../css/pages.css">
</head>
<body class="theme-italian">
  <!-- Header global -->
  <header class="site-header">
    <div class="container header__inner">
      <a class="brand" href="index.html">
        <img src="../img/logo.png" alt="PizzUM &amp; BurgUM" class="brand__logo">
        <span class="brand__name">PizzUM &amp; BurgUM</span>
      </a>
      <nav class="site-nav">
        <a class="nav__link" href="crear-pizza.html">Crear pizza</a>
        <a class="nav__link" href="crear-burger.html">Crear hamburguesa</a>
        <a class="nav__link" href="carrito.html">Carrito</a>
        <a class="nav__link is-active" href="checkout.html">Checkout</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- Stepper visual -->
    <section class="container section">
      <ol class="stepper" aria-label="Pasos de compra">
        <li class="stepper__item"><a href="carrito.html">Carrito</a></li>
        <li class="stepper__item is-current" aria-current="step">Checkout</li>
        <li class="stepper__item">Confirmación</li>
      </ol>
    </section>

    <section class="container section section--grid-2">
      <!-- Formulario de checkout -->
      <form class="form form--checkout" method="post" action="#">

        <!-- Cuenta (solo lectura) -->
        <fieldset class="form-section" aria-describedby="ayuda-cuenta">
          <legend class="form-section__title">Tu cuenta</legend>
          <p id="ayuda-cuenta" class="form-hint">Estás comprando con tu usuario. Estos datos vienen de tu perfil.</p>

          <div class="card card--muted" role="group" aria-label="Datos de cuenta">
            <dl class="totals" style="padding:0; border:none">
              <div class="totals__row"><dt>Nombre</dt><dd>Nombre Apellido</dd></div>
              <div class="totals__row"><dt>Email</dt><dd>cliente@correo.com</dd></div>
              <div class="totals__row"><dt>Teléfono</dt><dd>099 000 000</dd></div>
            </dl>
            <small>¿Querés editar estos datos? Hacelo desde tu perfil.</small>
          </div>
        </fieldset>

        <!-- Dirección (lista de guardadas + agregar nueva) -->
        <fieldset class="form-section">
          <legend class="form-section__title">Dirección de entrega</legend>
          <p class="form-hint">Elegí una de tus direcciones guardadas o agregá una nueva.</p>

          <!-- Lista de direcciones guardadas (radios) -->
          <div class="select-list" role="radiogroup" aria-label="Direcciones guardadas">
            <!-- Ejemplo: la predeterminada marcada -->
            <label class="option select-card">
              <input type="radio" name="direccion_id" value="dir_default" checked>
              <div class="select-card__body">
                <div class="select-card__title">
                  <strong>Casa (predeterminada)</strong>
                  <span class="badge badge--ghost">Seleccionada</span>
                </div>
                <div class="select-card__meta">
                  <small>18 de Julio 1234, Apto 501 — Montevideo</small>
                </div>
              </div>
            </label>

            <label class="option select-card">
              <input type="radio" name="direccion_id" value="dir_2">
              <div class="select-card__body">
                <div class="select-card__title"><strong>Oficina</strong></div>
                <div class="select-card__meta"><small>Av. Principal 456, Piso 3</small></div>
              </div>
            </label>

            <label class="option select-card">
              <input type="radio" name="direccion_id" value="dir_3">
              <div class="select-card__body">
                <div class="select-card__title"><strong>Casa de un familiar</strong></div>
                <div class="select-card__meta"><small>Rivera 789</small></div>
              </div>
            </label>
          </div>

          <!-- Agregar nueva (acordeón inline) -->
          <details class="accordion">
            <summary>Agregar nueva dirección</summary>
            <div class="card" style="margin-top:var(--space-3)">
              <div class="form-group">
                <label for="domicilio_nuevo">Domicilio</label>
                <input class="input" id="domicilio_nuevo" name="domicilio_nuevo" type="text" placeholder="Ej: 18 de Julio 1234, Apto 501">
              </div>
              <div class="form-group">
                <label for="indicaciones_nuevo">Indicaciones (opcional)</label>
                <textarea class="input input--textarea" id="indicaciones_nuevo" name="indicaciones_nuevo" rows="2" placeholder="Ej: timbre roto, llamar al llegar"></textarea>
              </div>
              <div class="form-actions" style="justify-content:flex-start">
                <button class="btn btn--secondary" type="submit" name="accion" value="agregar_direccion">Agregar dirección</button>
              </div>
            </div>
          </details>
        </fieldset>

        <!-- Pago con tarjeta (lista de guardadas + CVV + agregar nueva) -->
        <fieldset class="form-section">
          <legend class="form-section__title">Pago con tarjeta</legend>
          <p class="form-hint">Seleccioná una tarjeta guardada e ingresá el CVV (3 dígitos).</p>

          <!-- Lista de tarjetas guardadas (radios) -->
          <div class="select-list" role="radiogroup" aria-label="Tarjetas guardadas">
            <!-- Predeterminada marcada -->
            <label class="option select-card">
              <input type="radio" name="tarjeta_id" value="t_default" checked>
              <div class="select-card__body">
                <div class="select-card__title">
                  <strong>•••• •••• •••• 1234 — Visa</strong>
                  <span class="badge badge--ghost">Seleccionada</span>
                </div>
                <div class="select-card__meta">
                  <small>Titular: Nombre Apellido</small>
                </div>
              </div>
            </label>

            <label class="option select-card">
              <input type="radio" name="tarjeta_id" value="t2">
              <div class="select-card__body">
                <div class="select-card__title"><strong>•••• •••• •••• 5678 — Visa</strong></div>
                <div class="select-card__meta"><small>Titular: Nombre Apellido</small></div>
              </div>
            </label>

            <label class="option select-card">
              <input type="radio" name="tarjeta_id" value="t3">
              <div class="select-card__body">
                <div class="select-card__title"><strong>•••• •••• •••• 9012 — MasterCard</strong></div>
                <div class="select-card__meta"><small>Titular: Nombre Apellido</small></div>
              </div>
            </label>
          </div>

          <!-- CVV único para la tarjeta seleccionada -->
          <div class="form-group" style="max-width:220px; margin-top: var(--space-3);">
            <label for="cvv_seleccionada">CVV</label>
            <input class="input" id="cvv_seleccionada" name="cvv_seleccionada" type="text" inputmode="numeric" pattern="[0-9]{3}" placeholder="3 dígitos" required aria-describedby="ayuda-cvv">
            <small id="ayuda-cvv" class="form-hint">Ingresá 3 dígitos del CVV de la tarjeta seleccionada.</small>
          </div>

          <!-- Agregar nueva tarjeta (acordeón inline) -->
          <details class="accordion">
            <summary>Agregar nueva tarjeta</summary>
            <div class="card" style="margin-top:var(--space-3)">
              <div class="form-grid">
                <div class="form-group form-group--full">
                  <label for="tarjeta_numero_nueva">Número de tarjeta</label>
                  <input
                    class="input"
                    id="tarjeta_numero_nueva"
                    name="tarjeta_numero_nueva"
                    type="text"
                    inputmode="numeric"
                    pattern="[0-9 ]+"
                    placeholder="Solo números">
                </div>
                <div class="form-group form-group--full">
                  <label for="tarjeta_nombre_nueva">Nombre en la tarjeta</label>
                  <input class="input" id="tarjeta_nombre_nueva" name="tarjeta_nombre_nueva" type="text">
                </div>
                <div class="form-group">
                  <label for="tarjeta_exp_mes_nueva">Mes</label>
                  <input class="input" id="tarjeta_exp_mes_nueva" name="tarjeta_exp_mes_nueva" type="text" inputmode="numeric" pattern="[0-9]{1,2}" placeholder="MM">
                </div>
                <div class="form-group">
                  <label for="tarjeta_exp_anio_nueva">Año</label>
                  <input class="input" id="tarjeta_exp_anio_nueva" name="tarjeta_exp_anio_nueva" type="text" inputmode="numeric" pattern="[0-9]{2,4}" placeholder="AA o AAAA">
                </div>
                <div class="form-group">
                  <label for="tarjeta_cvv_nueva">CVV (3 dígitos)</label>
                  <input class="input" id="tarjeta_cvv_nueva" name="tarjeta_cvv_nueva" type="text" inputmode="numeric" pattern="[0-9]{3}" placeholder="3 dígitos">
                </div>
              </div>

              <div class="form-actions" style="justify-content:flex-start">
                <!-- Reemplazo del checkbox por botón -->
                <button class="btn btn--secondary" type="submit" name="accion" value="guardar_tarjeta_nueva">Guardar en mi perfil</button>
              </div>
            </div>
          </details>
        </fieldset>

        <!-- Acciones -->
        <div class="form-actions">
          <a class="btn btn--secondary" href="carrito.html">Volver al carrito</a>
          <button class="btn btn--primary" type="submit" name="accion" value="confirmar_pedido">Confirmar pedido</button>
        </div>
      </form>

      <!-- Resumen de compra (visual / placeholder) -->
      <aside class="checkout-summary" aria-label="Resumen del pedido">
        <h2 class="checkout-summary__title">Resumen del pedido</h2>

        <ul class="checkout-items">
          <li class="checkout-item">
            <img class="checkout-item__img" src="../img/pizza-thumb.png" alt="Pizza personalizada">
            <div class="checkout-item__info">
              <p class="checkout-item__name">Pizza personalizada</p>
              <p class="checkout-item__meta">Mediana • Napolitana • Tomate • Muzzarella • Albahaca</p>
            </div>
            <div class="checkout-item__qty">x1</div>
            <div class="checkout-item__price">$ 0</div>
          </li>
          <li class="checkout-item">
            <img class="checkout-item__img" src="../img/burger-thumb.png" alt="Hamburguesa personalizada">
            <div class="checkout-item__info">
              <p class="checkout-item__name">Hamburguesa personalizada</p>
              <p class="checkout-item__meta">2 carnes • Vaca • Pan de papa • Queso extra</p>
            </div>
            <div class="checkout-item__qty">x3</div>
            <div class="checkout-item__price">$ 0</div>
          </li>
        </ul>

        <dl class="totals">
          <div class="totals__row">
            <dt>Subtotal</dt><dd>$ 0</dd>
          </div>
          <div class="totals__row">
            <dt>Envío</dt><dd>$ 0</dd>
          </div>
          <div class="totals__row totals__row--total">
            <dt>Total</dt><dd>$ 0</dd>
          </div>
        </dl>

        <div class="delivery-note">
          <img class="delivery-note__img" src="../img/delivery-illustration.svg" alt="Reparto a domicilio">
          <p class="delivery-note__text">Tu pedido llegará a tu domicilio. Podrás seguir el estado luego de confirmar.</p>
        </div>
      </aside>
    </section>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer__inner">
      <small>&copy; 2025 PizzUM &amp; BurgUM</small>
      <nav class="footer-nav">
        <a href="#" class="footer__link">Ayuda</a>
        <a href="#" class="footer__link">Términos</a>
        <a href="#" class="footer__link">Privacidad</a>
      </nav>
    </div>
  </footer>
</body>
</html>
